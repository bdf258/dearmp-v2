# nixpacks.toml

# 1. Force Node provider (ignore Deno/Supabase functions)
providers = ["node"]

[phases.setup]
# 2. ONLY ask for nodejs. npm comes with it automatically.
nixPkgs = ["nodejs"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npm run build"]

[start]
# 3. Serve the 'dist' folder generated by Vite
cmds = ["npx serve -s dist -l 3000"]
